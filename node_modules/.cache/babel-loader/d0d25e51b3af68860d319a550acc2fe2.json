{"ast":null,"code":"var _jsxFileName = \"/Users/sarahcosta/Git/m3/s05-09/react-entrega-s2-formulario-de-cadastro-sarahvenske/src/context/TechContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { createContext } from 'react';\nimport { toast } from 'react-toastify';\nimport api from '../components/Api';\nimport { useContext } from \"react\";\nimport { UserContext } from './UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TechContext = /*#__PURE__*/createContext({});\n\nconst TechProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n\n  const saveNewTech = tech => {\n    api.post(\"/users/techs\", tech).then(response => {\n      toast.success(\"Tecnologia criada com sucesso!\");\n      setUser({ ...user,\n        techs: [...user.techs, tech]\n      });\n    }).catch(error => {\n      toast.error(\"Ops! Esta tecnologia j치 existe. Tente atualiz치-la\");\n    });\n  };\n\n  const removeTech = tech => {\n    const filteredTechs = user.techs.filter(t => t.id !== tech.id);\n    api.delete(`/users/techs/${tech.id}`, tech).then(response => {\n      setUser({ ...user,\n        techs: filteredTechs\n      });\n      toast.success(\"A tecnologia foi removida!\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TechContext.Provider, {\n    value: {\n      saveNewTech,\n      removeTech\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TechProvider, \"74GGDIL3agQW3CqnnuL98bKYYX0=\");\n\n_c = TechProvider;\nexport default TechProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TechProvider\");","map":{"version":3,"names":["createContext","toast","api","useContext","UserContext","TechContext","TechProvider","children","user","setUser","saveNewTech","tech","post","then","response","success","techs","catch","error","removeTech","filteredTechs","filter","t","id","delete"],"sources":["/Users/sarahcosta/Git/m3/s05-09/react-entrega-s2-formulario-de-cadastro-sarahvenske/src/context/TechContext.tsx"],"sourcesContent":["import {createContext, ReactNode } from 'react'\nimport { toast } from 'react-toastify';\nimport api from '../components/Api';\n\nimport { useContext } from \"react\"\nimport { UserContext } from './UserContext';\n\ninterface ITechProviderProps {\n    children: ReactNode\n}\n\ninterface ITechContext {\n    saveNewTech: (tech: any) => void;\n    removeTech: (tech: any) => void;\n}\n\nexport const TechContext = createContext({} as ITechContext);\n\nconst TechProvider = ({children} : ITechProviderProps ) => {\n\n    const { user, setUser }  = useContext(UserContext);\n    \n    const saveNewTech = (tech: any) => {\n        \n        api.post(\"/users/techs\", tech)\n        .then((response) => {\n            toast.success(\"Tecnologia criada com sucesso!\")\n            setUser({...user, techs: [...user.techs, tech]})\n        }).catch((error) => {\n            toast.error(\"Ops! Esta tecnologia j치 existe. Tente atualiz치-la\")\n        })\n    }\n\n    const removeTech = (tech: any) => {\n\n        const filteredTechs = user.techs.filter((t) => \n            t.id !== tech.id)\n\n        api.delete(`/users/techs/${tech.id}`, tech)\n        .then((response) => {\n            setUser({...user, techs: filteredTechs})\n            toast.success(\"A tecnologia foi removida!\")\n        })\n    }\n\n    return(\n        <TechContext.Provider value={{ saveNewTech, removeTech }}>\n            {children}\n        </TechContext.Provider>\n    )\n}\n\nexport default TechProvider;\n\n\n"],"mappings":";;;AAAA,SAAQA,aAAR,QAAwC,OAAxC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AAEA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;;AAWA,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,EAAD,CAAjC;;AAEP,MAAMM,YAAY,GAAG,QAAsC;EAAA;;EAAA,IAArC;IAACC;EAAD,CAAqC;EAEvD,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAqBN,UAAU,CAACC,WAAD,CAArC;;EAEA,MAAMM,WAAW,GAAIC,IAAD,IAAe;IAE/BT,GAAG,CAACU,IAAJ,CAAS,cAAT,EAAyBD,IAAzB,EACCE,IADD,CACOC,QAAD,IAAc;MAChBb,KAAK,CAACc,OAAN,CAAc,gCAAd;MACAN,OAAO,CAAC,EAAC,GAAGD,IAAJ;QAAUQ,KAAK,EAAE,CAAC,GAAGR,IAAI,CAACQ,KAAT,EAAgBL,IAAhB;MAAjB,CAAD,CAAP;IACH,CAJD,EAIGM,KAJH,CAIUC,KAAD,IAAW;MAChBjB,KAAK,CAACiB,KAAN,CAAY,mDAAZ;IACH,CAND;EAOH,CATD;;EAWA,MAAMC,UAAU,GAAIR,IAAD,IAAe;IAE9B,MAAMS,aAAa,GAAGZ,IAAI,CAACQ,KAAL,CAAWK,MAAX,CAAmBC,CAAD,IACpCA,CAAC,CAACC,EAAF,KAASZ,IAAI,CAACY,EADI,CAAtB;IAGArB,GAAG,CAACsB,MAAJ,CAAY,gBAAeb,IAAI,CAACY,EAAG,EAAnC,EAAsCZ,IAAtC,EACCE,IADD,CACOC,QAAD,IAAc;MAChBL,OAAO,CAAC,EAAC,GAAGD,IAAJ;QAAUQ,KAAK,EAAEI;MAAjB,CAAD,CAAP;MACAnB,KAAK,CAACc,OAAN,CAAc,4BAAd;IACH,CAJD;EAKH,CAVD;;EAYA,oBACI,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAEL,WAAF;MAAeS;IAAf,CAA7B;IAAA,UACKZ;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAhCD;;GAAMD,Y;;KAAAA,Y;AAkCN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}